#vest.conf
{   vest_schema_sql_file => 'ado-sqlite-schema-vest.sql',
    routes               => [
        #default view
        {route => '/вест', via => ['GET'], to => 'vest#screen', over => {authenticated => 1},},
        #lists all messages
        {route => '/вест/list', via => ['GET'], to => 'vest#list', over => {authenticated => 1},},

        #Lists messages from a talk of the current user (subject_message_id)
        {   route  => '/вест/messages/:id',
            via    => ['GET'],
            params => {id => qr/\d+/},
            to     => 'vest#list_messages',
            over   => {authenticated => 1},
        },

        #Lists talks of the current user
        {   route  => '/вест/talks',
            via    => ['GET'],
            to     => 'vest#list_talks',
            over   => {authenticated => 1},
        },
        {route => '/вест', via => ['POST'], to => 'vest#add', over => {authenticated => 1},},
        {   route  => '/вест/:id',
            params => {id => qr/\d+/},
            via    => ['GET'],
            to     => 'vest#show',
            over   => {authenticated => 1},
        },
        {   route  => '/вест/:id',
            params => {id => qr/\d+/},
            via    => ['PUT'],
            to     => 'vest#update',
            over   => {authenticated => 1},
        },
        {   route  => '/вест/:id',
            params => {id => qr/\d+/},
            via    => ['DELETE'],
            to     => 'vest#disable',
            over   => {authenticated => 1},
        },
    ],
};
